name = "starye-gateway"
main = "src/index.ts"
compatibility_date = "2024-04-01"

[dev]
port = 8080 # 本地统一入口端口

[vars]
# 生产环境各模块的原始访问地址 (可以是 Cloudflare Pages 的默认域名或子域名)
# 部署后请在 Cloudflare Dashboard 修改这些值为真实生产地址
API_ORIGIN = "https://api.starye.org"
DASHBOARD_ORIGIN = "https://dashboard.starye.org"
BLOG_ORIGIN = "https://blog-pages.pages.dev"
MOVIE_ORIGIN = "https://movie-pages.pages.dev"
COMIC_ORIGIN = "https://comic-pages.pages.dev"

# Custom Domain Binding
# This worker handles all traffic for the main domain
[[routes]]
pattern = "starye.org"
custom_domain = true
override_existing_dns_record = true

[[routes]]
pattern = "www.starye.org"
custom_domain = true
override_existing_dns_record = true
